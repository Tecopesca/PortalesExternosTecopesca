<app-header titulo ="Consultar factura" lug="proveedores"> </app-header> 

<ion-content class="facturapro">
    <ion-grid>
        <ion-row>
            <ion-col size-xs="0" size-sm="0" size="1" size-lg="1" class="sin-padding-vertical"></ion-col>
            <ion-col size-xs="12" size-sm="12" size="10" size-lg="10" class="sin-padding-vertical">
                <ion-grid>
                    <ion-row>
                        <ion-col size-xs="12" size-sm="6" size="3" size-lg="3" class="sin-padding-vertical">
                            <ion-grid>
                                <ion-row>
                                    <ion-col size-xs="12" size-sm="12" size="4" size-lg="4" class="sin-padding-vertical">
                                        <label class="label-proveedor">N. de factura</label>
                                    </ion-col>
                                    <ion-col size-xs="12" size-sm="12" size="8" size-lg="8" class="sin-padding-vertical">
                                        <input
                                            type="text"
                                            [(ngModel)]="elementos.comFactura"
                                            [cleave]="configcleave"
                                            class="calendario"
                                            (keypress)="valideKey($event)"
                                            placeholder="000-000-000000000"
                                        />
                                        <!-- (paste)="onPaste()" -->
                                    </ion-col>
                                </ion-row>
                            </ion-grid>
                        </ion-col>
                        <ion-col size-xs="12" size-sm="6" size="3" size-lg="3" class="sin-padding-vertical">
                            <ion-grid>
                                <ion-row>
                                    <ion-col size-xs="12" size-sm="12" size="4" size-lg="4" class="sin-padding-vertical">
                                        <label class="label-proveedor">Estado</label>
                                    </ion-col>
                                    <ion-col size-xs="12" size-sm="12" size="8" size-lg="8" class="sin-padding-vertical">
                                        <ng-select2
                                            [(ngModel)]="elementos.comEstado"
                                            [data]="dataEstado"
                                            [options]="configSelect"
                                            [placeholder]="'Seleccione Estado'"
                                            [allowClear]="true"
                                        >
                                        </ng-select2>
                                    </ion-col>
                                </ion-row>
                            </ion-grid>
                        </ion-col>
                        <ion-col size-xs="12" size-sm="6" size="3" size-lg="3" class="sin-padding-vertical">
                            <ion-grid>
                                <ion-row>
                                    <ion-col size-xs="12" size-sm="12" size="4" size-lg="4" class="sin-padding-vertical">
                                        <label class="label-proveedor">Fecha Inicio</label>
                                    </ion-col>
                                    <ion-col size-xs="12" size-sm="12" size="8" size-lg="8" class="sin-padding-vertical">
                                        <!-- <ion-input
                                            readonly="readonly"
                                            [(ngModel)]="elementos.fechaInicio"
                                            [liIonic4Datepicker]="datePickerObj"
                                            class="calendario"
                                            placeholder="Seleccione Fecha"
                                        >
                                        </ion-input> -->
                                        <input type="date" [(ngModel)]="elementos.fechaInicio" class="calendario" placeholder="Seleccione Fecha" />
                                    </ion-col>
                                </ion-row>
                            </ion-grid>
                        </ion-col>
                        <ion-col size-xs="12" size-sm="6" size="3" size-lg="3" class="sin-padding-vertical">
                            <ion-grid>
                                <ion-row>
                                    <ion-col size-xs="12" size-sm="12" size="4" size-lg="4" class="sin-padding-vertical">
                                        <label class="label-proveedor">Fecha Fin</label>
                                    </ion-col>
                                    <ion-col size-xs="12" size-sm="12" size="8" size-lg="8" class="sin-padding-vertical">
                                        <!-- <ion-input
                                            readonly="readonly"
                                            [(ngModel)]="elementos.fechaFin"
                                            [liIonic4Datepicker]="datePickerObj"
                                            class="calendario"
                                            placeholder="Seleccione Fecha"
                                        >
                                        </ion-input> -->
                                        <input type="date" [(ngModel)]="elementos.fechaFin" class="calendario" placeholder="Seleccione Fecha" />
                                    </ion-col>
                                </ion-row>
                            </ion-grid>
                        </ion-col>
                    </ion-row>

                    <ion-row>
                        <ion-col size-lg="10" size="10" size-sm="6" size-xs="6" class="sin-padding-vertical">
                            <ion-button small class="boton-proveedor" (click)="filtrar()">
                                Buscar
                            </ion-button>
                        </ion-col>
                        <ion-col size-lg="2" size="2" size-sm="6" size-xs="6" class="alineacion-derecha sin-padding-vertical">
                            <ion-button small class="btn-proveedor-actualizar" (click)="actualizarTabla()">
                                <ion-icon name="refresh-outline"></ion-icon>
                            </ion-button>
                            <label class="lbl-proveedor-actualizar">Actualizar</label>
                        </ion-col>
                    </ion-row>

                    <ion-row>
                        <ion-col size-xs="12" size-sm="12" size="12" size-lg="12" class="sin-padding-vertical">
                            <ngx-datatable
                                #mydatatable
                                class="material bordes-redondeados5"
                                [limit]="10"
                                [columnMode]="ColumnMode.force"
                                [footerHeight]="50"
                                rowHeight="auto"
                                [rows]="rows"
                                [loadingIndicator]="true"
                                [scrollbarH]="true"
                            >
                                <ngx-datatable-column name="N. de Factura" prop="factura"></ngx-datatable-column>
                                <ngx-datatable-column name="Estado" prop="estado"></ngx-datatable-column>
                                <ngx-datatable-column name="Fecha de EmisiÃ³n" prop="fechaInicio" width="200"></ngx-datatable-column>
                                <!-- <ngx-datatable-column name="Fecha Final" prop="fechaFin"></ngx-datatable-column> -->
                                <ngx-datatable-column name="Ver" prop="ver">
                                    <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value" let-row="row">
                                        <ion-button small class="btn-proveedor-actualizar" (click)="VerFactura(value)" title="Ver Factura">
                                            <ion-icon name="document-outline"></ion-icon>
                                        </ion-button>
                                    </ng-template>
                                </ngx-datatable-column>
                            </ngx-datatable>
                        </ion-col>
                    </ion-row>
                </ion-grid>
            </ion-col>
            <ion-col size-xs="0" size-sm="0" size="1" size-lg="1" class="sin-padding-vertical"></ion-col>
        </ion-row>
    </ion-grid>
</ion-content>
